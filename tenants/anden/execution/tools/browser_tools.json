{
  "category": "browser",
  "description": "Browser automation tools for web scraping and interaction",
  "tools": [
    {
      "name": "browser_open",
      "description": "Open a browser and navigate to a URL. Returns a session_id that MUST be used for all subsequent browser operations. Use this to access websites for automation tasks.",
      "script": "browser_open.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "The URL to navigate to (e.g., 'https://imyfone.com/login')"
          },
          "session_id": {
            "type": "string",
            "description": "Optional: reuse an existing session ID"
          },
          "persistent": {
            "type": "boolean",
            "description": "Keep session alive longer (default: false)"
          }
        },
        "required": ["url"]
      },
      "test_input": {"url": "https://example.com"}
    },
    {
      "name": "browser_login",
      "description": "Fill a login form using stored credentials. Credentials are stored as {service}_email and {service}_password (e.g., 'imyfone_email'). Use browser_open first to navigate to the login page.",
      "script": "browser_login.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          },
          "service": {
            "type": "string",
            "description": "Service name for credential lookup (e.g., 'imyfone' will use imyfone_email and imyfone_password)"
          },
          "email_selector": {
            "type": "string",
            "description": "CSS selector for email/username input (optional, auto-detected)"
          },
          "password_selector": {
            "type": "string",
            "description": "CSS selector for password input (optional, auto-detected)"
          },
          "submit_selector": {
            "type": "string",
            "description": "CSS selector for submit button (optional - will click if provided)"
          }
        },
        "required": ["session_id", "service"]
      },
      "skip_test": true
    },
    {
      "name": "browser_click",
      "description": "Click an element on the page. Use CSS selectors to identify the element.",
      "script": "browser_click.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          },
          "selector": {
            "type": "string",
            "description": "CSS selector for element to click (e.g., 'button.cancel-subscription', '#submit-btn')"
          }
        },
        "required": ["session_id", "selector"]
      },
      "test_chain": {
        "depends_on": "browser_open",
        "map_output": "session_id",
        "to_input": "session_id"
      }
    },
    {
      "name": "browser_type",
      "description": "Type text into an input element.",
      "script": "browser_type.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          },
          "selector": {
            "type": "string",
            "description": "CSS selector for input element"
          },
          "text": {
            "type": "string",
            "description": "Text to type"
          },
          "clear": {
            "type": "boolean",
            "description": "Clear field before typing (default: true)"
          }
        },
        "required": ["session_id", "selector", "text"]
      },
      "test_chain": {
        "depends_on": "browser_open",
        "map_output": "session_id",
        "to_input": "session_id"
      }
    },
    {
      "name": "browser_read",
      "description": "Read the text content of the page or a specific element. Use this to see what's on the page.",
      "script": "browser_read.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          },
          "selector": {
            "type": "string",
            "description": "Optional: CSS selector to read specific element (default: entire page)"
          },
          "max_length": {
            "type": "number",
            "description": "Max characters to return (default: 50000)"
          }
        },
        "required": ["session_id"]
      },
      "test_chain": {
        "depends_on": "browser_open",
        "map_output": "session_id",
        "to_input": "session_id"
      }
    },
    {
      "name": "browser_screenshot",
      "description": "Take a screenshot of the current page. Useful for debugging or verification.",
      "script": "browser_screenshot.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          },
          "filename": {
            "type": "string",
            "description": "Optional: custom filename for the screenshot"
          }
        },
        "required": ["session_id"]
      },
      "test_chain": {
        "depends_on": "browser_open",
        "map_output": "session_id",
        "to_input": "session_id"
      }
    },
    {
      "name": "browser_wait",
      "description": "Wait for an element to appear or page to load. Use before interacting with dynamic content.",
      "script": "browser_wait.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          },
          "selector": {
            "type": "string",
            "description": "Optional: CSS selector to wait for"
          },
          "state": {
            "type": "string",
            "description": "Wait for state: 'visible', 'hidden', 'attached', 'detached' (default: visible)"
          },
          "timeout": {
            "type": "number",
            "description": "Timeout in milliseconds (default: 30000)"
          }
        },
        "required": ["session_id"]
      },
      "test_chain": {
        "depends_on": "browser_open",
        "map_output": "session_id",
        "to_input": "session_id"
      }
    },
    {
      "name": "browser_close",
      "description": "Close a browser session when done. Frees up resources.",
      "script": "browser_close.py",
      "input_schema": {
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string",
            "description": "The session_id from browser_open"
          }
        },
        "required": ["session_id"]
      },
      "test_chain": {
        "depends_on": "browser_open",
        "map_output": "session_id",
        "to_input": "session_id"
      }
    },
    {
      "name": "browser_list",
      "description": "List all active browser sessions.",
      "script": "browser_list.py",
      "input_schema": {
        "type": "object",
        "properties": {}
      },
      "test_input": {}
    }
  ]
}
